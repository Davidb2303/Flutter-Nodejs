# Diagrama MER GrÃ¡fico - App de Citas Flutter

## Diagrama Entidad-RelaciÃ³n Visual

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚              USERS                  â”‚
                                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                                    â”‚ ğŸ”‘ id (INT) PK                     â”‚
                                    â”‚ ğŸ”’ username (VARCHAR) UNIQUE        â”‚
                                    â”‚ ğŸ”’ email (VARCHAR) UNIQUE           â”‚
                                    â”‚   password_hash (VARCHAR)           â”‚
                                    â”‚   name (VARCHAR)                    â”‚
                                    â”‚   age (INT) NULL                    â”‚
                                    â”‚   photo_url (VARCHAR) NULL          â”‚
                                    â”‚   interests (VARCHAR) NULL          â”‚
                                    â”‚   created_at (DATETIME)             â”‚
                                    â”‚   updated_at (DATETIME)             â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                      â”‚                      â”‚
                           â”‚                      â”‚                      â”‚
                           â–¼                      â–¼                      â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚     SWIPES      â”‚    â”‚     MATCHES     â”‚    â”‚    MESSAGES     â”‚
                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
                  â”‚ ğŸ”‘ id (INT) PK  â”‚    â”‚ ğŸ”‘ id (INT) PK  â”‚    â”‚ ğŸ”‘ id (INT) PK  â”‚
                  â”‚ ğŸ”— user_id (FK) â”‚    â”‚ ğŸ”— user1_id(FK) â”‚    â”‚ ğŸ”— match_id(FK) â”‚
                  â”‚ ğŸ”— target_id(FK)â”‚    â”‚ ğŸ”— user2_id(FK) â”‚    â”‚ ğŸ”— sender_id(FK)â”‚
                  â”‚   is_like (BOOL)â”‚    â”‚   created_at    â”‚    â”‚ ğŸ”— receiver_id  â”‚
                  â”‚   created_at    â”‚    â”‚     (DATETIME)  â”‚    â”‚   content (TEXT)â”‚
                  â”‚     (DATETIME)  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   created_at    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚            â”‚     (DATETIME)  â”‚
                           â–²                       â”‚            â”‚   read_at       â”‚
                           â”‚                       â”‚            â”‚   (DATETIME)    â”‚
                           â”‚                       â–¼            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â–²
                           â”‚              â”‚    MESSAGES     â”‚            â”‚
                           â”‚              â”‚   (Relacionada) â”‚            â”‚
                           â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚            â”‚
                           â”‚              â”‚ Cada match puedeâ”‚            â”‚
                           â”‚              â”‚ tener mÃºltiples â”‚            â”‚
                           â”‚              â”‚    mensajes     â”‚            â”‚
                           â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                           â”‚                                             â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Relaciones Detalladas con Cardinalidades

### 1ï¸âƒ£ USER â†’ SWIPE (RelaciÃ³n: Hace/Recibe)
```
    USERS                           SWIPES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1        N   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚             â”‚
â”‚ id (PK)     â”‚                â”‚ user_id(FK) â”‚
â”‚             â”‚                â”‚             â”‚
â”‚             â”‚    1        N  â”‚             â”‚
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ target_id   â”‚
â”‚             â”‚                â”‚    (FK)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Cardinalidad: 1:N (Un usuario puede hacer muchos swipes)
   Cardinalidad: 1:N (Un usuario puede recibir muchos swipes)
```

### 2ï¸âƒ£ USER â†’ MATCH (RelaciÃ³n: Participa en)
```
    USERS                           MATCHES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1        N   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚             â”‚
â”‚ id (PK)     â”‚                â”‚ user1_id(FK)â”‚
â”‚             â”‚                â”‚             â”‚
â”‚             â”‚    1        N  â”‚             â”‚
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ user2_id(FK)â”‚
â”‚             â”‚                â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Cardinalidad: N:M (Muchos usuarios pueden tener muchos matches)
```

### 3ï¸âƒ£ MATCH â†’ MESSAGE (RelaciÃ³n: Contiene)
```
    MATCHES                         MESSAGES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1        N   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚             â”‚
â”‚ id (PK)     â”‚                â”‚ match_id(FK)â”‚
â”‚             â”‚                â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Cardinalidad: 1:N (Un match puede tener muchos mensajes)
```

### 4ï¸âƒ£ USER â†’ MESSAGE (RelaciÃ³n: EnvÃ­a/Recibe)
```
    USERS                           MESSAGES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1        N   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚             â”‚
â”‚ id (PK)     â”‚                â”‚ sender_id   â”‚
â”‚             â”‚                â”‚    (FK)     â”‚
â”‚             â”‚    1        N  â”‚             â”‚
â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ receiver_id â”‚
â”‚             â”‚                â”‚    (FK)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Cardinalidad: 1:N (Un usuario puede enviar muchos mensajes)
   Cardinalidad: 1:N (Un usuario puede recibir muchos mensajes)
```

## Diagrama de Flujo de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   REGISTRO  â”‚ â†’ â”‚   SWIPES    â”‚ â†’ â”‚   MATCHES   â”‚ â†’ â”‚  MENSAJES   â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚ Usuario se  â”‚    â”‚ Usuario ve  â”‚    â”‚ Like mutuo  â”‚    â”‚ Usuarios    â”‚
â”‚ registra en â”‚    â”‚ perfiles y  â”‚    â”‚ crea un     â”‚    â”‚ con match   â”‚
â”‚ la app      â”‚    â”‚ hace swipe  â”‚    â”‚ match       â”‚    â”‚ chatean     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼                   â–¼
   Tabla USERS        Tabla SWIPES       Tabla MATCHES      Tabla MESSAGES
```

## Diagrama de Chen (Entidad-RelaciÃ³n ClÃ¡sico)

```
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚    USERS    â”‚
                                â”‚   (ENTITY)  â”‚
                                â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                      â”‚                      â”‚
                â–¼                      â–¼                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     HACE      â”‚      â”‚  PARTICIPA    â”‚      â”‚    ENVÃA      â”‚
        â”‚ (RELACIÃ“N)    â”‚      â”‚ (RELACIÃ“N)    â”‚      â”‚ (RELACIÃ“N)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                      â”‚                      â”‚
                â–¼                      â–¼                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    SWIPES     â”‚      â”‚    MATCHES    â”‚      â”‚   MESSAGES    â”‚
        â”‚   (ENTITY)    â”‚      â”‚   (ENTITY)    â”‚â—„â”€â”€â”€â”€â”€â”¤   (ENTITY)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   CONTIENE   â”‚
                                â”‚ (RELACIÃ“N)   â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Leyenda de SÃ­mbolos

- ğŸ”‘ **PK** = Primary Key (Clave Primaria)
- ğŸ”— **FK** = Foreign Key (Clave ForÃ¡nea) 
- ğŸ”’ **UNIQUE** = RestricciÃ³n de Unicidad
- **1:N** = Uno a Muchos
- **N:M** = Muchos a Muchos
- **NULL** = Permite valores nulos

## Restricciones y Validaciones

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          RESTRICCIONES                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â€¢ users.username = UNIQUE (No puede repetirse)                  â•‘
â•‘ â€¢ users.email = UNIQUE (No puede repetirse)                     â•‘
â•‘ â€¢ swipes(user_id, target_id) = UNIQUE (Un swipe por par)        â•‘
â•‘ â€¢ matches(user1_id, user2_id) = UNIQUE (Un match por par)       â•‘
â•‘ â€¢ user_id â‰  target_id (No puede hacer swipe a sÃ­ mismo)         â•‘
â•‘ â€¢ messages solo entre usuarios con match                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```